<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Config 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.online_shopping_website.mapper.PromotionMapper">
    <resultMap id="PromotionMap" type="com.example.online_shopping_website.entity.Promotion">
        <result column="promotionId" property="promotionId"/>
        <result column="status" property="status"/>
        <result column="promotionName" property="promotionName"/>
        <result column="endTime" property="endTime"/>
        <result column="goodsTypeInPromotion" property="goodsTypeInPromotion" />
        <result column="promotionFund" property="promotionFundUsed"/>
        <result column="promotionStartLine" property="promotionStartLine"/>
        <result column="promotionPaymentReduce" property="promotionPaymentReduce"/>
        <result column="registrationCapitalLimit" property="registrationCapitalLimit"/>
        <result column="monthlySaleIncomeLimit" property="monthlySaleIncomeLimit"/>
        <result column="monthlySalesLimit" property="monthlySalesLimit"/>
    </resultMap>

    <insert id="InsertPromotion">
        INSERT INTO promotion (status, promotionName, endTime, goodsTypeInPromotion, promotionFund, promotionStartLine, promotionPaymentReduce, registrationCapitalLimit, monthlySaleIncomeLimit, monthlySalesLimit)
            VALUES
        (1, #{promotionName} ,#{endTime}, #{goodsTypeInPromotion}, #{promotionFund}, #{promotionStartLine}, #{promotionPaymentReduce}, #{registrationCapitalLimit}, #{monthlySaleIncomeLimit}, #{monthlySalesLimit})
    </insert>

    <select id="GetPromotions" resultMap="PromotionMap">
        SELECT  promotionName, endTime, goodsTypeInPromotion, promotionFund, promotionStartLine, promotionPaymentReduce, registrationCapitalLimit, monthlySaleIncomeLimit, monthlySalesLimit
                FROM promotion WHERE status = 1;
    </select>

</mapper>